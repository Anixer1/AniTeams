<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide Carousel with Movie Cards</title>
    <style>
        body {
            background-color: #333;
            color: white;
            font-family: Arial, sans-serif;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #333;
        }

        .logo {
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        .search-form {
            display: flex;
            align-items: center;
        }

        .search-input {
            padding: 8px;
            border: 1px solid white;
            border-radius: 20px;
            margin-right: 10px;
            background-color: transparent;
            color: white;
        }

        .search-button {
            background-color: white;
            color: #333;
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        #slider {
            display: flex;
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        .slide {
            flex: 0 0 100%;
            transition: transform 0.5s ease;
            position: relative;
        }

        .slide img {
            width: 100%;
            height: auto;
            opacity: 0.5;
        }

        .slide-content {
            position: absolute;
            bottom: 10%;
            left: 10%;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .additional-info {
            font-size: 14px;
            margin-bottom: 10px;
        }

        .description {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .buttons {
            display: flex;
        }

        .details-button,
        .watch-button {
            background-color: white;
            color: #333;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            margin-right: 10px;
            cursor: pointer;
            text-decoration: none;
        }

        .slider-nav {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            background-color: grey;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
        }

        .slider-dot.active {
            background-color: green;
        }

        .timer-line {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 5px;
            background-color: red;
            animation: slide-timer 10s linear infinite;
        }

        @keyframes slide-timer {
            0% {
                width: 0;
            }

            100% {
                width: 100%;
            }
        }

        @media only screen and (min-width: 768px) {
            .timer-line {
                top: 0;
                bottom: auto;
            }
        }

        @media only screen and (max-width: 767px) {
            .timer-line {
                bottom: 0;
            }
        }

        /* Movie Cards Container */
        .movie-cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
            background-color: #444;
            margin-top: 20px;
            justify-content: center;
        }

        .movie-card {
            position: relative;
            width: calc(30% - 20px);
            background-color: #222;
            color: white;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .movie-card:hover {
            transform: translateY(-5px);
        }

        .card-img-top {
            width: 100%;
            height: auto;
            border-radius: 10px 10px 0 0;
            filter: blur(0);
            transition: filter 0.3s ease;
        }

        .movie-card:hover .card-img-top {
            filter: blur(3px);
        }

        .card-body {
            padding: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.3s ease;
            color: white;
        }

        .movie-card:hover .play-button {
            opacity: 1;
        }
    </style>
  <style> /* CSS styles for the progress bar */
        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            z-index: 9999;
            display: none;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            transition: width 0.2s ease-in-out;
            background-color: yellow; /* Change to yellow */
        }
  </style>
</head>

<body>
  <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>
    <div class="header">
        <div class="logo">Your Logo</div>
        <form class="search-form">
            <input type="text" class="search-input" placeholder="Search...">
            <button type="submit" class="search-button">Search</button>
        </form>
    </div>

    <div id="slider">
        <!-- Slides will be injected here by JavaScript -->
    </div>

    <div class="slider-nav">
        <!-- Dots will be injected here by JavaScript -->
    </div>

    <!-- Movie Cards Container -->
    <div class="movie-cards-container">
        <!-- Movie cards will be injected here by JavaScript -->
    </div>
 <style>/* styles.css */

body {
    font-family: Arial, sans-serif;
    background-color: #333;
    color: white;
    margin: 0;
}

.container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    padding: 20px;
}

.carousel {
    flex: 1 1 70%; /* Adjust as needed */
    background-color: #444;
    padding: 20px;
    border-radius: 10px;
}

.movie-cards {
    flex: 1 1 20%; /* Adjust as needed */
    background-color: #444;
    padding: 20px;
    border-radius: 10px;
}

.anime-filter-sidebar {
    flex: 1 1 10%; /* Adjust as needed */
    display: flex;
    justify-content: flex-end;
}

.sidebar {
    width: 250px;
    background-color: #222;
    padding: 20px;
}

.filter {
    margin-bottom: 20px;
}

.filter label {
    cursor: pointer;
    display: block;
    padding: 10px 20px;
    background-color: #555;
    color: white;
    border-radius: 20px;
    transition: background-color 0.3s ease;
    margin-bottom: 5px;
}

.filter label:hover {
    background-color: #777;
}

.filter label.active {
    background-color: #4CAF50;
}

.anime-list {
    flex: 1 1 100%; /* Adjust as needed */
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px;
}

.anime-card {
    width: 200px;
    background-color: #222;
    color: white;
    padding: 10px;
    border-radius: 10px;
    text-align: center;
}

.anime-card img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
}
</style>
    <div class="anime-filter-sidebar">
            <div class="sidebar">
                <div class="filter">
                    <label data-time="today" class="active">Today</label>
                    <label data-time="week">This Week</label>
                    <label data-time="month">This Month</label>
                </div>
            </div>
        </div>
        
        <div class="anime-list">
            <!-- Anime cards will be injected here by JavaScript -->
        </div>
    </div>
    <script>  document.addEventListener('DOMContentLoaded', function () {
            const filterLabels = document.querySelectorAll('.filter label');
            const animeList = document.querySelector('.anime-list');

            function fetchAnimeData(timePeriod) {
                fetch('https://aniwatch-api-net.vercel.app/anime/home')
                    .then(response => response.json())
                    .then(data => {
                        const animeData = data.top10Animes[timePeriod];

                        animeList.innerHTML = ''; // Clear previous anime cards

                        animeData.forEach(anime => {
                            const card = document.createElement('div');
                            card.className = 'anime-card';
                            card.innerHTML = `
                                <img src="${anime.poster}" alt="${anime.name}">
                                <h3>${anime.name}</h3>
                                <p>Episodes: ${anime.episodes.sub} (Sub)</p>
                                <a href="./page2.html?id=${anime.id}" class="details-button">Details</a>
                                <a href="./page2.html?id=${anime.id}" class="watch-button">Watch</a>
                            `;
                            animeList.appendChild(card);
                        });
                    })
                    .catch(error => console.error('Error fetching anime data:', error));
            }

            // Initial fetch and render for today's anime
            fetchAnimeData('today');

            // Event listeners for filter labels
            filterLabels.forEach(label => {
                label.addEventListener('click', () => {
                    if (!label.classList.contains('active')) {
                        filterLabels.forEach(l => l.classList.remove('active'));
                        label.classList.add('active');
                        const timePeriod = label.dataset.time;
                        fetchAnimeData(timePeriod);
                    }
                });
            });

        });</script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slidesContainer = document.getElementById('slider');
            const dotsContainer = document.querySelector('.slider-nav');

            function truncateDescription(description, wordLimit) {
                const words = description.split(' ');
                if (words.length > wordLimit) {
                    return words.slice(0, wordLimit).join(' ') + '...';
                }
                return description;
            }

            fetch('https://aniwatch-api-net.vercel.app/anime/home') // Update with the actual API endpoint
                .then(response => response.json())
                .then(data => {
                    const spotlightAnimes = data.spotlightAnimes; // Adjust based on the actual structure
                    const trendingAnimes = data.trendingAnimes; // Adjust based on the actual structure

                    // Inject slides
                    spotlightAnimes.forEach((anime, index) => {
                        const slide = document.createElement('div');
                        slide.className = 'slide';
                        slide.innerHTML = `
                            <img src="${anime.poster}" alt="${anime.name}">
                            <div class="slide-content">
                                <div class="title">${anime.name}</div>
                                <div class="additional-info">${anime.otherInfo.join(' | ')}</div>
                                <div class="description">${truncateDescription(anime.description, 10)}</div>
                                <div class="buttons">
                                    <a href="./page2.html?id=${anime.id}" class="details-button">Details</a>
                                    <a href="./page2.html?id=${anime.id}" class="watch-button">Watch</a>
                                </div>
                            </div>
                            <div class="timer-line"></div>
                        `;
                        slidesContainer.appendChild(slide);

                        const dot = document.createElement('div');
                        dot.className = 'slider-dot' + (index === 0 ? ' active' : '');
                        dot.dataset.index = index;
                        dotsContainer.appendChild(dot);
                    });

                    // Inject movie cards
                    const movieCardsContainer = document.querySelector('.movie-cards-container');
                    trendingAnimes.forEach(anime => {
                        const card = document.createElement('div');
                        card.className = 'movie-card card';
                        card.innerHTML = `
                            <img src="${anime.poster}" class="card-img-top" alt="${anime.name}">
                            <div class="play-button">
                                <i class="fas fa-play-circle fa-4x"></i>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">${anime.name}</h5>
                            </div>
                        `;
                        // Directly set href attribute for redirection
                        card.addEventListener('click', () => {
                            window.location.href = `./page2.html?id=${anime.id}`;
                        });

                        movieCardsContainer.appendChild(card);
                    });

                    const slides = document.querySelectorAll('.slide');
                    const dots = document.querySelectorAll('.slider-dot');
                    let currentIndex = 0;

                    function showSlide(index) {
                        slides.forEach((slide, i) => {
                            slide.style.transform = `translateX(-${index * 100}%)`;
                            dots[i].classList.toggle('active', i === index);
                        });
                    }

                    function nextSlide() {
                        currentIndex = (currentIndex + 1) % slides.length;
                        showSlide(currentIndex);
                    }

                    const timer = setInterval(nextSlide, 10000);

                    dots.forEach(dot => {
                        dot.addEventListener('click', () => {
                            clearInterval(timer);
                            currentIndex = parseInt(dot.dataset.index);
                            showSlide(currentIndex);
                        });
                    });

                    showSlide(currentIndex);
                })
                .catch(error => console.error('Error fetching anime data:', error));
        });
    </script>
  <script>document.addEventListener('DOMContentLoaded', () => {
    initNavigation();
});

function initNavigation() {
    document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault(); // Prevent default link behavior
            navigateTo(link.getAttribute('href')); // Initiate navigation
        });
    });

    window.addEventListener('popstate', (event) => {
        if (event.state && event.state.url) {
            loadContent(event.state.url, false);
        }
    });
}

function navigateTo(url) {
    showProgressBar();
    loadContent(url, true);
}

function loadContent(url, pushState) {
    fetch(url)
        .then(response => response.text())
        .then(data => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(data, 'text/html');
            document.body.innerHTML = doc.body.innerHTML;
            document.title = doc.title;
            initNavigation(); // Reinitialize navigation for new content

            if (pushState) {
                history.pushState({ url }, doc.title, url);
            }
            hideProgressBar();
        })
        .catch(err => {
            console.error('Failed to load page content:', err);
            hideProgressBar();
        });
}

function showProgressBar() {
    const progressBar = document.getElementById('progress-bar');
    progressBar.style.width = '0%';
    progressBar.style.display = 'block';

    let width = 0;
    const interval = setInterval(() => {
        if (width >= 100) {
            clearInterval(interval);
        } else {
            width += Math.random() * 10;
            progressBar.style.width = `${width}%`;
        }
    }, 100);
}

function hideProgressBar() {
    const progressBar = document.getElementById('progress-bar');
    progressBar.style.width = '100%';
    setTimeout(() => {
        progressBar.style.display = 'none';
    }, 200);
}</script>
</body>

</html>
